# Copyright 2009 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

# DO NOT EDIT.  Automatically generated by gobuild.
# gobuild -m >Makefile

O_arm=5
O_amd64=6
O_386=8
OS=568vq

O=$(O_$(GOARCH))
GC=$(O)g
CC=$(O)c -FVw
AS=$(O)a
AR=6ar

default: packages

clean:
	rm -f *.[$(OS)] *.a [$(OS)].out

test: packages
	gotest

coverage: packages
	gotest
	6cov -g `pwd` | grep -v '_test\.go:'

%.$O: %.go
	$(GC) $*.go

%.$O: %.c
	$(CC) $*.c

%.$O: %.s
	$(AS) $*.s

O1=\
	adler32.$O\
	sha1.$O\
	md5.$O\
	crc32.$O\

O2=\
	sha1block.$O\
	md5block.$O\


phases: a1 a2
adler32.a: phases
crc32.a: phases
md5.a: phases
sha1.a: phases

a1: $(O1)
	$(AR) grc adler32.a adler32.$O
	$(AR) grc sha1.a sha1.$O
	$(AR) grc md5.a md5.$O
	$(AR) grc crc32.a crc32.$O
	rm -f $(O1)

a2: $(O2)
	$(AR) grc sha1.a sha1block.$O
	$(AR) grc md5.a md5block.$O
	rm -f $(O2)


newpkg: clean
	$(AR) grc adler32.a
	$(AR) grc crc32.a
	$(AR) grc md5.a
	$(AR) grc sha1.a

$(O1): newpkg
$(O2): a1
$(O3): a2

nuke: clean
	rm -f $(GOROOT)/pkg/adler32.a $(GOROOT)/pkg/crc32.a $(GOROOT)/pkg/md5.a $(GOROOT)/pkg/sha1.a

packages: adler32.a crc32.a md5.a sha1.a

install: packages
	cp adler32.a $(GOROOT)/pkg/adler32.a
	cp crc32.a $(GOROOT)/pkg/crc32.a
	cp md5.a $(GOROOT)/pkg/md5.a
	cp sha1.a $(GOROOT)/pkg/sha1.a
