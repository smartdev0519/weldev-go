# Copyright 2009 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

# DO NOT EDIT.  Automatically generated by gobuild.
# gobuild -m >Makefile
O=6
GC=$(O)g
CC=$(O)c -w
AS=$(O)a
AR=$(O)ar

default: packages

clean:
	rm -f *.$O *.a $O.out

test: packages
	gotest

%.$O: %.go
	$(GC) $*.go

%.$O: %.c
	$(CC) $*.c

%.$O: %.s
	$(AS) $*.s

O1=\
	os_error.$O\

O2=\
	os_env.$O\
	os_file.$O\
	os_time.$O\

os.a: a1 a2

a1:	$(O1)
	$(AR) grc os.a os_error.$O
	rm -f $(O1)

a2:	$(O2)
	$(AR) grc os.a os_env.$O os_file.$O os_time.$O
	rm -f $(O2)

newpkg: clean
	$(AR) grc os.a

$(O1): newpkg
$(O2): a1

nuke: clean
	rm -f $(GOROOT)/pkg/os.a

packages: os.a

install: packages
	cp os.a $(GOROOT)/pkg/os.a

