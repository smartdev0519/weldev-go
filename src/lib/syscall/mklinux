#!/usr/bin/perl
# Copyright 2009 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

my $command = "mklinux ". join(' ', @ARGV);

print <<EOF;
// Generated by mklinux; DO NOT EDIT.
// $command

package syscall

export const(
EOF

while(<>){
	if(/^#define __NR_(\w+)\s+([0-9]+)/){
		my $name = "SYS_$1";
		my $num = $2;
		$name =~ y/a-z/A-Z/;
		print "	$name = $num;\n";
	}
}

print <<EOF;
)
EOF
