# Copyright 2009 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

# DO NOT EDIT.  Automatically generated by gobuild.
# ../../cmd/gobuild/6.out -m dnsclient.go dnsconfig.go dnsmsg.go fd.go fd_${GOOS}.go ip.go net.go net_${GOOS}.go parse.go port.go >Makefile

O=6
OS=568vq
GC=$(O)g
CC=$(O)c -FVw
AS=$(O)a
AR=$(O)ar

default: packages

clean:
	rm -f *.[$(OS)] *.a [$(OS)].out

test: packages
	gotest

coverage: packages
	gotest
	6cov -g `pwd` | grep -v '_test\.go:'

%.$O: %.go
	$(GC) $*.go

%.$O: %.c
	$(CC) $*.c

%.$O: %.s
	$(AS) $*.s

O1=\
	dnsmsg.$O\
	fd_$(GOOS).$O\
	parse.$O\

O2=\
	fd.$O\
	ip.$O\
	port.$O\

O3=\
	dnsconfig.$O\
	net_$(GOOS).$O\

O4=\
	net.$O\

O5=\
	dnsclient.$O\


phases: a1 a2 a3 a4 a5
net.a: phases

a1: $(O1)
	$(AR) grc net.a dnsmsg.$O fd_$(GOOS).$O parse.$O
	rm -f $(O1)

a2: $(O2)
	$(AR) grc net.a fd.$O ip.$O port.$O
	rm -f $(O2)

a3: $(O3)
	$(AR) grc net.a dnsconfig.$O net_$(GOOS).$O
	rm -f $(O3)

a4: $(O4)
	$(AR) grc net.a net.$O
	rm -f $(O4)

a5: $(O5)
	$(AR) grc net.a dnsclient.$O
	rm -f $(O5)


newpkg: clean
	$(AR) grc net.a

$(O1): newpkg
$(O2): a1
$(O3): a2
$(O4): a3
$(O5): a4
$(O6): a5

nuke: clean
	rm -f $(GOROOT)/pkg/net.a

packages: net.a

install: packages
	cp net.a $(GOROOT)/pkg/net.a
